<html>
	<body>
		<script type='text/javascript'>
            function initEmbeddedMessaging() {
                try {
                    //Aqui se especifica el lenguaje de la interfaz del bot (Start conversation, End Conversation, etc)
                    embeddedservice_bootstrap.settings.language = "es";
                    embeddedservice_bootstrap.init(
                        '00D06000001RhcT',
                        'CyclicaMessaging',
                        'https://enterprise-speed-2672.my.site.com/ESWCyclicaMessaging1734451761296',
                        {
                            scrt2URL: 'https://enterprise-speed-2672.my.salesforce-scrt.com'
                        }
                    );
                } catch (err) {
                    console.error('Error loading Embedded Messaging: ', err);
                }
            };
        </script>

        <script type='text/javascript'>
            window.addEventListener("onEmbeddedMessagingReady", () => {
                //Aqui se especifica el lenguaje que debe emplear el bot para comunicarse con el cliente
                embeddedservice_bootstrap.prechatAPI.setHiddenPrechatFields({"BotLanguageInterface" : "en"});

                //Estos son los campos que estaran visibles en el prechat. Rellenad los que sean necesarios con la informacion del cliente logado en la web
                embeddedservice_bootstrap.prechatAPI.setVisiblePrechatFields({
                    "_firstName": {
                       "value": "Pepito",
                       "isEditableByEndUser": true //Esta propiedad indica si el usuario podra editar el campo o no
                    },
                    "_lastName": {
                        "value": "Grillo",
                        "isEditableByEndUser": false
                    },
                    "_email": {
                        "value": "Pepito@grillo.com",
                        "isEditableByEndUser": false
                    },
                    "Company": {
                        "value": "Hiberus",
                        "isEditableByEndUser": false
                    },
                    "Mobile": {
                        "value": "666666666",
                        "isEditableByEndUser": false
                    }
                });
            });
        </script>

        <!-- Esta linea de script, Salesforce indica que debe ir antes o lo mas proximo al tag del cierre del body </body> -->
        <script type='text/javascript' src='https://enterprise-speed-2672.my.site.com/ESWCyclicaMessaging1734451761296/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>
	</body>
</html>